<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test - SystÃ¨me de Notifications</title>
  <link rel="stylesheet" href="src/styles/main.css">
  <style>
    .demo-container {
      max-width: 1200px;
      margin: 50px auto;
      padding: 30px;
      background: var(--card-bg);
      border-radius: 20px;
      border: 2px solid var(--border-color);
    }

    .demo-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .demo-header h1 {
      color: var(--primary-color);
      margin-bottom: 10px;
    }

    .demo-header p {
      color: var(--text-secondary);
    }

    .demo-section {
      margin-bottom: 40px;
    }

    .demo-section h2 {
      color: var(--text-primary);
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid var(--border-color);
    }

    .demo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin-bottom: 20px;
    }

    .demo-btn {
      padding: 15px 20px;
      border: none;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      color: white;
    }

    .demo-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    .demo-btn.success {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    }

    .demo-btn.error {
      background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    }

    .demo-btn.warning {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    }

    .demo-btn.info {
      background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    }

    .code-block {
      background: var(--dark-bg);
      padding: 15px;
      border-radius: 8px;
      border: 1px solid var(--border-color);
      margin-top: 10px;
      overflow-x: auto;
    }

    .code-block code {
      color: var(--primary-color);
      font-family: 'Courier New', monospace;
      font-size: 13px;
    }
  </style>
</head>
<body>
  <div class="demo-container">
    <div class="demo-header">
      <h1>ğŸ”” SystÃ¨me de Notifications - DÃ©monstration</h1>
      <p>Testez les diffÃ©rents types de notifications et modales</p>
    </div>

    <!-- Section: Notifications -->
    <div class="demo-section">
      <h2>ğŸ“¨ Notifications Toast</h2>
      
      <div class="demo-grid">
        <button class="demo-btn success" onclick="testSuccess()">
          âœ“ Success Notification
        </button>
        <button class="demo-btn error" onclick="testError()">
          âœ• Error Notification
        </button>
        <button class="demo-btn warning" onclick="testWarning()">
          âš  Warning Notification
        </button>
        <button class="demo-btn info" onclick="testInfo()">
          â„¹ Info Notification
        </button>
      </div>

      <div class="code-block">
        <code>Notification.success('Operation completed successfully!');</code>
      </div>
    </div>

    <!-- Section: Notifications avec durÃ©e personnalisÃ©e -->
    <div class="demo-section">
      <h2>â±ï¸ DurÃ©e PersonnalisÃ©e</h2>
      
      <div class="demo-grid">
        <button class="demo-btn info" onclick="testShort()">
          âš¡ Courte (2s)
        </button>
        <button class="demo-btn info" onclick="testLong()">
          ğŸ• Longue (10s)
        </button>
        <button class="demo-btn info" onclick="testPermanent()">
          âˆ Permanente
        </button>
      </div>

      <div class="code-block">
        <code>Notification.notify('Message', 'info', 'Titre', 2000);</code>
      </div>
    </div>

    <!-- Section: Notifications multiples -->
    <div class="demo-section">
      <h2>ğŸ“š Notifications Multiples</h2>
      
      <div class="demo-grid">
        <button class="demo-btn info" onclick="testMultiple()">
          ğŸ¯ Empiler 5 notifications
        </button>
        <button class="demo-btn success" onclick="testSequence()">
          ğŸ”„ SÃ©quence progressive
        </button>
      </div>

      <div class="code-block">
        <code>// Les notifications s'empilent automatiquement</code>
      </div>
    </div>

    <!-- Section: Modales de confirmation -->
    <div class="demo-section">
      <h2>âš ï¸ Modales de Confirmation</h2>
      
      <div class="demo-grid">
        <button class="demo-btn info" onclick="testConfirm()">
          ? Confirmation Standard
        </button>
        <button class="demo-btn warning" onclick="testWarningModal()">
          âš  Avertissement
        </button>
        <button class="demo-btn error" onclick="testDangerModal()">
          â›” Action Dangereuse
        </button>
        <button class="demo-btn success" onclick="testCustomModal()">
          âœ¨ Modale PersonnalisÃ©e
        </button>
      </div>

      <div class="code-block">
        <code>const confirmed = await Notification.confirm('Message', options);</code>
      </div>
    </div>

    <!-- Section: Cas d'usage rÃ©els -->
    <div class="demo-section">
      <h2>âœˆï¸ Cas d'Usage RÃ©els</h2>
      
      <div class="demo-grid">
        <button class="demo-btn success" onclick="testFlightStart()">
          ğŸ›« DÃ©marrer un vol
        </button>
        <button class="demo-btn info" onclick="testFlightEnd()">
          ğŸ›¬ Terminer un vol
        </button>
        <button class="demo-btn error" onclick="testFlightCancel()">
          âŒ Annuler une rÃ©servation
        </button>
        <button class="demo-btn warning" onclick="testLogout()">
          ğŸšª DÃ©connexion
        </button>
      </div>
    </div>

    <!-- Section: Tests de connexion -->
    <div class="demo-section">
      <h2>ğŸ”Œ Simulation d'erreurs</h2>
      
      <div class="demo-grid">
        <button class="demo-btn error" onclick="testConnectionError()">
          ğŸ“¡ Erreur de connexion
        </button>
        <button class="demo-btn error" onclick="testSimulatorError()">
          ğŸ® Erreur SimConnect
        </button>
        <button class="demo-btn warning" onclick="testValidationError()">
          ğŸ“ Erreur de validation
        </button>
      </div>
    </div>
  </div>

  <script src="src/services/notification.js"></script>
  <script>
    // Tests de notifications simples
    function testSuccess() {
      Notification.success('Votre vol a Ã©tÃ© enregistrÃ© avec succÃ¨s!', 'SuccÃ¨s');
    }

    function testError() {
      Notification.error('Impossible de se connecter au serveur', 'Erreur');
    }

    function testWarning() {
      Notification.warning('Carburant faible dÃ©tectÃ©', 'Attention');
    }

    function testInfo() {
      Notification.info('Phase de vol changÃ©e en croisiÃ¨re', 'Information');
    }

    // Tests de durÃ©e
    function testShort() {
      Notification.notify('Notification courte (2 secondes)', 'info', 'Test DurÃ©e', 2000);
    }

    function testLong() {
      Notification.notify('Notification longue (10 secondes)', 'info', 'Test DurÃ©e', 10000);
    }

    function testPermanent() {
      Notification.notify(
        'Cette notification reste affichÃ©e jusqu\'Ã  ce que vous la fermiez',
        'info',
        'Permanente',
        0
      );
    }

    // Tests multiples
    function testMultiple() {
      Notification.success('PremiÃ¨re notification');
      setTimeout(() => Notification.info('DeuxiÃ¨me notification'), 200);
      setTimeout(() => Notification.warning('TroisiÃ¨me notification'), 400);
      setTimeout(() => Notification.error('QuatriÃ¨me notification'), 600);
      setTimeout(() => Notification.success('CinquiÃ¨me notification'), 800);
    }

    function testSequence() {
      Notification.info('Connexion en cours...', 'Ã‰tape 1/3');
      setTimeout(() => {
        Notification.info('Authentification...', 'Ã‰tape 2/3');
      }, 1500);
      setTimeout(() => {
        Notification.success('ConnectÃ© avec succÃ¨s!', 'Ã‰tape 3/3');
      }, 3000);
    }

    // Tests de modales
    async function testConfirm() {
      const confirmed = await Notification.confirm(
        'Voulez-vous continuer cette action?',
        {
          title: 'Confirmation',
          confirmText: 'Oui',
          cancelText: 'Non'
        }
      );
      
      if (confirmed) {
        Notification.success('Action confirmÃ©e!');
      } else {
        Notification.info('Action annulÃ©e');
      }
    }

    async function testWarningModal() {
      const confirmed = await Notification.confirm(
        'Cette action peut avoir des consÃ©quences. ÃŠtes-vous sÃ»r?',
        {
          title: 'Avertissement',
          confirmText: 'Continuer',
          cancelText: 'Annuler',
          type: 'warning'
        }
      );
      
      if (confirmed) {
        Notification.warning('Action exÃ©cutÃ©e avec avertissement');
      }
    }

    async function testDangerModal() {
      const confirmed = await Notification.confirm(
        'Cette action est irrÃ©versible et supprimera toutes les donnÃ©es. Continuer?',
        {
          title: 'Action Dangereuse',
          confirmText: 'Oui, supprimer',
          cancelText: 'Non, garder',
          type: 'error',
          icon: 'â›”'
        }
      );
      
      if (confirmed) {
        Notification.error('DonnÃ©es supprimÃ©es', 'Action Destructive');
      } else {
        Notification.success('DonnÃ©es conservÃ©es', 'AnnulÃ©');
      }
    }

    async function testCustomModal() {
      const confirmed = await Notification.confirm(
        'Cette modale utilise des textes et icÃ´nes personnalisÃ©s.',
        {
          title: 'âœ¨ Personnalisation',
          confirmText: 'ğŸ‘ Super!',
          cancelText: 'ğŸ‘ Non merci',
          type: 'confirm',
          icon: 'ğŸ¨'
        }
      );
      
      Notification.info(confirmed ? 'Vous aimez!' : 'Pas votre style');
    }

    // Cas d'usage rÃ©els
    async function testFlightStart() {
      const confirmed = await Notification.confirm(
        'PrÃªt Ã  dÃ©marrer votre vol? Assurez-vous que MSFS 2020 est en cours d\'exÃ©cution.',
        {
          title: 'DÃ©marrer le Vol',
          confirmText: 'DÃ©marrer',
          cancelText: 'Pas encore',
          type: 'confirm'
        }
      );
      
      if (confirmed) {
        Notification.info('Connexion au simulateur...', 'Initialisation');
        setTimeout(() => {
          Notification.success('Vol dÃ©marrÃ© avec succÃ¨s! Bon vol!', 'Vol Actif');
        }, 2000);
      }
    }

    async function testFlightEnd() {
      const confirmed = await Notification.confirm(
        'Terminer le vol et envoyer le rapport?',
        {
          title: 'Terminer le Vol',
          confirmText: 'Terminer',
          cancelText: 'Continuer',
          type: 'confirm'
        }
      );
      
      if (confirmed) {
        Notification.info('Envoi du rapport...', 'Traitement');
        setTimeout(() => {
          Notification.success(
            'Rapport de vol soumis avec succÃ¨s! Excellent travail, Capitaine!',
            'Vol TerminÃ©'
          );
        }, 2000);
      }
    }

    async function testFlightCancel() {
      const confirmed = await Notification.confirm(
        'ÃŠtes-vous sÃ»r de vouloir annuler ce vol? Cette action supprimera la rÃ©servation.',
        {
          title: 'Annuler le Vol',
          confirmText: 'Oui, annuler',
          cancelText: 'Garder le vol',
          type: 'error',
          icon: 'âš '
        }
      );
      
      if (confirmed) {
        Notification.warning('Vol annulÃ©', 'RÃ©servation SupprimÃ©e');
      } else {
        Notification.success('Vol conservÃ©', 'Annulation AnnulÃ©e');
      }
    }

    async function testLogout() {
      const confirmed = await Notification.confirm(
        'ÃŠtes-vous sÃ»r de vouloir vous dÃ©connecter?',
        {
          title: 'DÃ©connexion',
          confirmText: 'Se dÃ©connecter',
          cancelText: 'Rester connectÃ©',
          type: 'warning'
        }
      );
      
      if (confirmed) {
        Notification.success('DÃ©connexion rÃ©ussie', 'Ã€ bientÃ´t!');
      }
    }

    // Simulation d'erreurs
    function testConnectionError() {
      Notification.error(
        'Impossible de se connecter au serveur API.\n\nVÃ©rifiez votre connexion internet et rÃ©essayez.',
        'Erreur de Connexion'
      );
    }

    function testSimulatorError() {
      Notification.error(
        'Ã‰chec de la connexion au simulateur.\n\nAssurez-vous que MSFS 2020 est en cours d\'exÃ©cution et que vous Ãªtes en vol.',
        'Erreur SimConnect'
      );
    }

    function testValidationError() {
      Notification.warning(
        'Veuillez remplir tous les champs requis avant de continuer.',
        'Validation'
      );
    }

    // Message de bienvenue
    setTimeout(() => {
      Notification.info(
        'Cliquez sur les boutons pour tester le systÃ¨me de notifications!',
        'Bienvenue',
        7000
      );
    }, 500);
  </script>
</body>
</html>
